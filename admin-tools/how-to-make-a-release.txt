git pull

Check numversion in trepan/version.py
source trepan/version.py
echo $VERSION
git commit -m"Get ready for release $VERSION" .

Update ChangeLog:
  make ChangeLog

Update NEWS from ChangeLog
make check-short

git commit --amend .

git push

Make sure pyenv is running
# Pyenv
export PATH="$HOME/.pyenv/bin:$PATH"
eval "$(pyenv init -)"
eval "$(pyenv virtualenv-init -)"


. ./admin-tools/pyenv-newer-versions

Test all python versions:
   for version in $PYVERSIONS; do pyenv local $version && make clean && python setup.py develop && make check-short; done

git push # check on travis

# make check-rst or better check via:
http://rst.ninjs.org

for version in $PYVERSIONS; do pyenv local $version && make dist && python setup.py bdist_egg; done

chmod 0444 dist/trepan2-*.gz

git tag release-$VERSION
git push --tags

git checkout python-2.4

PYVERSIONS='2.4.6 2.5.6'
for version in $PYVERSIONS; do pyenv local $version && make dist && python setup.py bdist_egg; done

git checkout master
pyenv local 2.7.13
twine upload dist/trepan2-${VERSION}*
